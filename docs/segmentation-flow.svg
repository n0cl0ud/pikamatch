<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 1300" width="700" height="1300">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0a0e1a"/>
      <stop offset="50%" stop-color="#0d1220"/>
      <stop offset="100%" stop-color="#0a0f1e"/>
    </linearGradient>
    <linearGradient id="cardBlue" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1a2744" stop-opacity="0.9"/>
      <stop offset="100%" stop-color="#141e35" stop-opacity="0.95"/>
    </linearGradient>
    <linearGradient id="gradGreen" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#00d2a0"/><stop offset="100%" stop-color="#00b894"/>
    </linearGradient>
    <linearGradient id="gradBlue" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#4facfe"/><stop offset="100%" stop-color="#3b82f6"/>
    </linearGradient>
    <linearGradient id="gradPurple" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#a78bfa"/><stop offset="100%" stop-color="#7c3aed"/>
    </linearGradient>
    <linearGradient id="gradOrange" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#f59e0b"/>
    </linearGradient>
    <linearGradient id="gradRed" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#fb7185"/><stop offset="100%" stop-color="#e11d48"/>
    </linearGradient>
    <linearGradient id="gradCyan" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#22d3ee"/><stop offset="100%" stop-color="#06b6d4"/>
    </linearGradient>
    <linearGradient id="gradGray" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#64748b"/><stop offset="100%" stop-color="#475569"/>
    </linearGradient>
    <filter id="glowGreen" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="6" result="blur"/><feFlood flood-color="#00d2a0" flood-opacity="0.3"/><feComposite in2="blur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glowBlue" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="6" result="blur"/><feFlood flood-color="#4facfe" flood-opacity="0.3"/><feComposite in2="blur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glowRed" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="6" result="blur"/><feFlood flood-color="#fb7185" flood-opacity="0.3"/><feComposite in2="blur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glowOrange" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="6" result="blur"/><feFlood flood-color="#fbbf24" flood-opacity="0.35"/><feComposite in2="blur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="shadowCard" x="-10%" y="-10%" width="125%" height="125%">
      <feDropShadow dx="0" dy="4" stdDeviation="12" flood-color="#000" flood-opacity="0.4"/>
    </filter>
    <filter id="shadowSmall" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 1 L 10 5 L 0 9 z" fill="#475569"/>
    </marker>
    <marker id="arrowGreen" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 1 L 10 5 L 0 9 z" fill="#00d2a0"/>
    </marker>
    <marker id="arrowRed" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 1 L 10 5 L 0 9 z" fill="#fb7185"/>
    </marker>
    <marker id="arrowDim" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <path d="M 0 1 L 10 5 L 0 9 z" fill="#334155"/>
    </marker>
    <pattern id="dots" x="0" y="0" width="30" height="30" patternUnits="userSpaceOnUse">
      <circle cx="15" cy="15" r="0.7" fill="#1e293b" opacity="0.6"/>
    </pattern>
  </defs>

  <!-- Background -->
  <rect width="700" height="1300" fill="url(#bg)"/>
  <rect width="700" height="1300" fill="url(#dots)"/>

  <!-- ==================== TITLE ==================== -->
  <text x="350" y="38" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="22" font-weight="700" fill="#e2e8f0" letter-spacing="3">SEGMENTATION ALGORITHM</text>
  <text x="350" y="58" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#64748b" letter-spacing="2">PIKAMATCH  &#x2022;  OPENCV CONTOUR DETECTION</text>
  <!-- Title underline accent -->
  <line x1="220" y1="66" x2="480" y2="66" stroke="url(#gradBlue)" stroke-width="1" opacity="0.4"/>

  <!-- ==================== STEP 1: Full-Page Scan (Blue) ==================== -->
  <g filter="url(#glowBlue)">
    <rect x="225" y="85" width="250" height="52" rx="8" fill="url(#gradBlue)" filter="url(#shadowSmall)"/>
  </g>
  <text x="350" y="107" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Full-Page Scan</text>
  <text x="350" y="125" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#bee3f8" opacity="0.85">2931 x 3784 px</text>

  <!-- Arrow 1→2 -->
  <line x1="350" y1="137" x2="350" y2="158" stroke="#475569" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ==================== STEP 2: Grayscale Conversion (Gray) ==================== -->
  <rect x="225" y="162" width="250" height="42" rx="8" fill="url(#gradGray)" filter="url(#shadowSmall)"/>
  <text x="350" y="188" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Grayscale Conversion</text>

  <!-- Arrow 2→3 -->
  <line x1="350" y1="204" x2="350" y2="225" stroke="#475569" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ==================== STEP 3: Gaussian Blur (Gray) ==================== -->
  <rect x="225" y="229" width="250" height="52" rx="8" fill="url(#gradGray)" filter="url(#shadowSmall)"/>
  <text x="350" y="251" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Gaussian Blur</text>
  <text x="350" y="269" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#cbd5e1" opacity="0.85">5 x 5 kernel</text>

  <!-- ==================== DUAL-PASS DETECTION CARD ==================== -->
  <!-- Card container -->
  <rect x="55" y="300" width="590" height="200" rx="12" fill="url(#cardBlue)" stroke="#1e3a5f" stroke-width="1" filter="url(#shadowCard)"/>
  <!-- Card label -->
  <text x="350" y="322" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" font-weight="600" fill="#64748b" letter-spacing="2">DUAL-PASS DETECTION</text>
  <!-- Dashed separator under label -->
  <line x1="255" y1="330" x2="445" y2="330" stroke="#1e3a5f" stroke-width="1" stroke-dasharray="4,3"/>

  <!-- Split arrows from Blur to Pass 1 and Pass 2 -->
  <path d="M 350 281 L 350 300 L 200 300 L 200 345" stroke="#475569" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <path d="M 350 281 L 350 300 L 500 300 L 500 345" stroke="#475569" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>

  <!-- ==================== STEP 4a: Pass 1 - Adaptive Threshold (Red) ==================== -->
  <g filter="url(#glowRed)">
    <rect x="95" y="349" width="210" height="62" rx="8" fill="url(#gradRed)" filter="url(#shadowSmall)"/>
  </g>
  <text x="200" y="372" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" font-weight="700" fill="#fff">PASS 1</text>
  <text x="200" y="388" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#fff">Adaptive Threshold</text>
  <text x="200" y="403" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#fecdd3" opacity="0.9">(31, 10)</text>

  <!-- ==================== STEP 4b: Pass 2 - Canny Edge (Orange) ==================== -->
  <g filter="url(#glowOrange)">
    <rect x="395" y="349" width="210" height="62" rx="8" fill="url(#gradOrange)" filter="url(#shadowSmall)"/>
  </g>
  <text x="500" y="372" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" font-weight="700" fill="#451a03">PASS 2</text>
  <text x="500" y="388" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#451a03">Canny Edge</text>
  <text x="500" y="403" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#78350f" opacity="0.9">(30, 100)</text>

  <!-- VS divider between passes -->
  <text x="350" y="385" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" font-weight="700" fill="#475569">OR</text>

  <!-- Converge arrows from Pass 1 and Pass 2 to Bitwise OR -->
  <path d="M 200 411 L 200 470 L 350 470 L 350 510" stroke="#475569" stroke-width="1.5" fill="none"/>
  <path d="M 500 411 L 500 470 L 350 470 L 350 510" stroke="#475569" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>

  <!-- ==================== STEP 5: Bitwise OR (Gray) ==================== -->
  <rect x="225" y="514" width="250" height="52" rx="8" fill="url(#gradGray)" filter="url(#shadowSmall)"/>
  <text x="350" y="536" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Bitwise OR</text>
  <text x="350" y="554" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#cbd5e1" opacity="0.85">Combine both passes</text>

  <!-- Arrow 5→6 -->
  <line x1="350" y1="566" x2="350" y2="587" stroke="#475569" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ==================== STEP 6: Morphological Close (Gray) ==================== -->
  <rect x="225" y="591" width="250" height="52" rx="8" fill="url(#gradGray)" filter="url(#shadowSmall)"/>
  <text x="350" y="613" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Morphological Close</text>
  <text x="350" y="631" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#cbd5e1" opacity="0.85">15 x 15 kernel</text>

  <!-- Arrow 6→7 -->
  <line x1="350" y1="643" x2="350" y2="664" stroke="#00d2a0" stroke-width="1.5" marker-end="url(#arrowGreen)"/>

  <!-- ==================== STEP 7: Find External Contours (Green) ==================== -->
  <g filter="url(#glowGreen)">
    <rect x="205" y="668" width="290" height="42" rx="8" fill="url(#gradGreen)" filter="url(#shadowSmall)"/>
  </g>
  <text x="350" y="694" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Find External Contours</text>

  <!-- Arrow 7→8 -->
  <line x1="350" y1="710" x2="350" y2="731" stroke="#00d2a0" stroke-width="1.5" marker-end="url(#arrowGreen)"/>

  <!-- ==================== STEP 8: Filter (Green) ==================== -->
  <g filter="url(#glowGreen)">
    <rect x="185" y="735" width="330" height="64" rx="8" fill="url(#gradGreen)" filter="url(#shadowSmall)"/>
  </g>
  <text x="350" y="757" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Filter</text>
  <text x="350" y="773" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#d1fae5" opacity="0.9">2-85% area  &#x2022;  &gt;80px dim</text>
  <text x="350" y="789" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#d1fae5" opacity="0.9">aspect &lt;5:1  &#x2022;  not border</text>

  <!-- Arrow 8→9 -->
  <line x1="350" y1="799" x2="350" y2="820" stroke="#00d2a0" stroke-width="1.5" marker-end="url(#arrowGreen)"/>

  <!-- ==================== STEP 9: Merge Overlaps (Green) ==================== -->
  <g filter="url(#glowGreen)">
    <rect x="185" y="824" width="330" height="55" rx="8" fill="url(#gradGreen)" filter="url(#shadowSmall)"/>
  </g>
  <text x="350" y="847" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Merge Overlaps</text>
  <text x="350" y="867" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#d1fae5" opacity="0.9">IoU &gt;0.50  &#x2022;  Containment &gt;0.80</text>

  <!-- Arrow 9→10 -->
  <line x1="350" y1="879" x2="350" y2="900" stroke="#00d2a0" stroke-width="1.5" marker-end="url(#arrowGreen)"/>

  <!-- ==================== STEP 10: Crop + Convert (Green) ==================== -->
  <g filter="url(#glowGreen)">
    <rect x="205" y="904" width="290" height="55" rx="8" fill="url(#gradGreen)" filter="url(#shadowSmall)"/>
  </g>
  <text x="350" y="926" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="13" font-weight="600" fill="#fff">Crop + Convert</text>
  <text x="350" y="947" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#d1fae5" opacity="0.9">px &#x2192; PDF coords (page_w / img_w)</text>

  <!-- Arrow 10→11 -->
  <line x1="350" y1="959" x2="350" y2="980" stroke="#475569" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ==================== STEP 11: Sub-images Output (Cyan) ==================== -->
  <g filter="url(#glowBlue)">
    <rect x="205" y="984" width="290" height="55" rx="8" fill="url(#gradCyan)" filter="url(#shadowSmall)"/>
  </g>
  <text x="350" y="1007" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Sub-images</text>
  <text x="350" y="1027" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#cffafe" opacity="0.9">5-15 per page  &#x2022;  ~50-150ms</text>

  <!-- ==================== STEP NUMBERS ==================== -->
  <!-- Step number badges on the left side -->
  <g>
    <!-- Step 1 -->
    <circle cx="212" cy="95" r="10" fill="#0f172a" stroke="#4facfe" stroke-width="1"/>
    <text x="212" y="99" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#4facfe">1</text>
    <!-- Step 2 -->
    <circle cx="212" cy="173" r="10" fill="#0f172a" stroke="#64748b" stroke-width="1"/>
    <text x="212" y="177" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#94a3b8">2</text>
    <!-- Step 3 -->
    <circle cx="212" cy="240" r="10" fill="#0f172a" stroke="#64748b" stroke-width="1"/>
    <text x="212" y="244" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#94a3b8">3</text>
    <!-- Step 4a -->
    <circle cx="82" cy="359" r="10" fill="#0f172a" stroke="#fb7185" stroke-width="1"/>
    <text x="82" y="363" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="8" font-weight="700" fill="#fb7185">4a</text>
    <!-- Step 4b -->
    <circle cx="618" cy="359" r="10" fill="#0f172a" stroke="#fbbf24" stroke-width="1"/>
    <text x="618" y="363" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="8" font-weight="700" fill="#fbbf24">4b</text>
    <!-- Step 5 -->
    <circle cx="212" cy="524" r="10" fill="#0f172a" stroke="#64748b" stroke-width="1"/>
    <text x="212" y="528" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#94a3b8">5</text>
    <!-- Step 6 -->
    <circle cx="212" cy="601" r="10" fill="#0f172a" stroke="#64748b" stroke-width="1"/>
    <text x="212" y="605" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#94a3b8">6</text>
    <!-- Step 7 -->
    <circle cx="192" cy="678" r="10" fill="#0f172a" stroke="#00d2a0" stroke-width="1"/>
    <text x="192" y="682" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#00d2a0">7</text>
    <!-- Step 8 -->
    <circle cx="172" cy="745" r="10" fill="#0f172a" stroke="#00d2a0" stroke-width="1"/>
    <text x="172" y="749" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#00d2a0">8</text>
    <!-- Step 9 -->
    <circle cx="172" cy="834" r="10" fill="#0f172a" stroke="#00d2a0" stroke-width="1"/>
    <text x="172" y="838" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" font-weight="700" fill="#00d2a0">9</text>
    <!-- Step 10 -->
    <circle cx="190" cy="914" r="11" fill="#0f172a" stroke="#00d2a0" stroke-width="1"/>
    <text x="190" y="918" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="8" font-weight="700" fill="#00d2a0">10</text>
    <!-- Step 11 -->
    <circle cx="190" cy="994" r="11" fill="#0f172a" stroke="#22d3ee" stroke-width="1"/>
    <text x="190" y="998" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="8" font-weight="700" fill="#22d3ee">11</text>
  </g>

  <!-- ==================== LEGEND ==================== -->
  <g transform="translate(85, 1070)">
    <!-- Legend background card -->
    <rect x="0" y="0" width="530" height="120" rx="10" fill="url(#cardBlue)" stroke="#1e3a5f" stroke-width="1" filter="url(#shadowCard)"/>
    <text x="265" y="24" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" font-weight="600" fill="#64748b" letter-spacing="2">LEGEND</text>
    <line x1="40" y1="33" x2="490" y2="33" stroke="#1e3a5f" stroke-width="1"/>

    <!-- Row 1 -->
    <!-- Input -->
    <rect x="30" y="46" width="50" height="16" rx="4" fill="url(#gradBlue)"/>
    <text x="90" y="58" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#94a3b8">Input</text>
    <!-- Preprocessing -->
    <rect x="155" y="46" width="50" height="16" rx="4" fill="url(#gradGray)"/>
    <text x="215" y="58" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#94a3b8">Preprocessing</text>
    <!-- Detection -->
    <rect x="340" y="46" width="50" height="16" rx="4" fill="url(#gradRed)"/>
    <text x="400" y="58" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#94a3b8">Detection</text>

    <!-- Row 2 -->
    <!-- Detection (Orange) -->
    <rect x="30" y="76" width="50" height="16" rx="4" fill="url(#gradOrange)"/>
    <text x="90" y="88" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#94a3b8">Detection</text>
    <!-- Processing -->
    <rect x="155" y="76" width="50" height="16" rx="4" fill="url(#gradGreen)"/>
    <text x="215" y="88" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#94a3b8">Processing</text>
    <!-- Output -->
    <rect x="340" y="76" width="50" height="16" rx="4" fill="url(#gradCyan)"/>
    <text x="400" y="88" font-family="'Segoe UI', system-ui, sans-serif" font-size="11" fill="#94a3b8">Output</text>
  </g>

  <!-- ==================== TIMING BADGE ==================== -->
  <g transform="translate(260, 1210)">
    <rect x="0" y="0" width="180" height="30" rx="15" fill="#0f172a" stroke="#1e293b" stroke-width="1"/>
    <text x="90" y="19" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="10" fill="#475569">~ 50-150 ms / page</text>
  </g>

  <!-- ==================== PHASE LABELS (right side) ==================== -->
  <!-- Phase bracket: Input -->
  <line x1="490" y1="90" x2="498" y2="90" stroke="#334155" stroke-width="1"/>
  <line x1="498" y1="90" x2="498" y2="132" stroke="#334155" stroke-width="1"/>
  <line x1="490" y1="132" x2="498" y2="132" stroke="#334155" stroke-width="1"/>
  <text x="505" y="115" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" fill="#334155" font-style="italic">input</text>

  <!-- Phase bracket: Preprocessing -->
  <line x1="490" y1="167" x2="498" y2="167" stroke="#334155" stroke-width="1"/>
  <line x1="498" y1="167" x2="498" y2="276" stroke="#334155" stroke-width="1"/>
  <line x1="490" y1="276" x2="498" y2="276" stroke="#334155" stroke-width="1"/>
  <text x="505" y="218" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" fill="#334155" font-style="italic">preprocess</text>

  <!-- Phase bracket: Processing (green steps) -->
  <line x1="530" y1="673" x2="538" y2="673" stroke="#334155" stroke-width="1"/>
  <line x1="538" y1="673" x2="538" y2="954" stroke="#334155" stroke-width="1"/>
  <line x1="530" y1="954" x2="538" y2="954" stroke="#334155" stroke-width="1"/>
  <text x="545" y="818" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" fill="#334155" font-style="italic">process</text>

  <!-- ==================== FOOTER ==================== -->
  <text x="350" y="1270" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="9" fill="#1e293b">PIKAMATCH SEGMENTATION PIPELINE v1.0</text>

  <!-- ==================== DECORATIVE CORNERS ==================== -->
  <path d="M 10 10 L 10 35 M 10 10 L 35 10" stroke="#1e293b" stroke-width="1.5" fill="none"/>
  <path d="M 690 10 L 690 35 M 690 10 L 665 10" stroke="#1e293b" stroke-width="1.5" fill="none"/>
  <path d="M 10 1290 L 10 1265 M 10 1290 L 35 1290" stroke="#1e293b" stroke-width="1.5" fill="none"/>
  <path d="M 690 1290 L 690 1265 M 690 1290 L 665 1290" stroke="#1e293b" stroke-width="1.5" fill="none"/>
</svg>